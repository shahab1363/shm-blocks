!function(){"use strict";const t=".wp-block-shm-poster",e="is-touched",n="is-focused";let o=null,i=!1;function r(){o&&(o.classList.remove(e),o=null,i=!1)}function s(t){if(t.hasAttribute("data-touch-initialized"))return;t.setAttribute("data-touch-initialized","true");const s=t.querySelector(".shm-poster__link"),u=function(t){if(!t)return!1;const e=t.getAttribute("href");return e&&"#"!==e&&!t.hasAttribute("data-no-link")}(s);t.addEventListener("touchstart",function(n){o!==t&&(n.preventDefault(),r(),t.classList.add(e),o=t,i=!1)},{passive:!1}),t.addEventListener("touchend",function(e){o===t&&u&&(i?(e.preventDefault(),setTimeout(function(){!function(t){const e=t.getAttribute("href");"_blank"===t.getAttribute("target")&&window.open(e,"_blank","noopener,noreferrer")||(window.location.href=e)}(s)},100)):i=!0)}),s&&(s.addEventListener("focus",function(){t.classList.add(n)}),s.addEventListener("blur",function(){t.classList.remove(n)}),s.addEventListener("keydown",function(t){" "===t.key&&(t.preventDefault(),s.click())}))}function u(){("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.querySelectorAll(t).forEach(s)}function c(){u(),document.addEventListener("touchstart",function(t){o&&!o.contains(t.target)&&r()},{passive:!0}),"undefined"!=typeof MutationObserver&&document.body&&new MutationObserver(function(e){for(const n of e)for(const e of n.addedNodes)if(1===e.nodeType&&(e.classList?.contains("wp-block-shm-poster")||e.querySelector?.(t)))return void u()}).observe(document.body,{childList:!0,subtree:!0})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}();