(()=>{"use strict";var e,l={867(){const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,a=window.wp.element,n=window.wp.primitives,s=window.ReactJSXRuntime;var i=(0,s.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(n.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})}),r=(0,s.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(n.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function c(e){var l,o;const{overlayColor:t,overlayOpacity:a,overlayOpacityHover:n,overlayHeight:s,overlayHeightHover:i,transitionDuration:r,transitionEasing:c,contentAnimationDelay:h,minHeight:m,focalPoint:p,aspectRatio:d}=e,v=function(e){const l=(e||"#000000").replace("#","");return 3===l.length?{r:parseInt(l[0]+l[0],16),g:parseInt(l[1]+l[1],16),b:parseInt(l[2]+l[2],16)}:{r:parseInt(l.substring(0,2),16)||0,g:parseInt(l.substring(2,4),16)||0,b:parseInt(l.substring(4,6),16)||0}}(t),b={"--poster-overlay-color":t,"--poster-overlay-color-rgb":`${v.r}, ${v.g}, ${v.b}`,"--poster-overlay-opacity":a/100,"--poster-overlay-opacity-hover":n/100,"--poster-overlay-height":s,"--poster-overlay-height-hover":i,"--poster-transition-duration":`${r}ms`,"--poster-transition-easing":c,"--poster-content-delay":`${h}ms`,"--poster-min-height":m,"--poster-focal-x":100*(null!==(l=p?.x)&&void 0!==l?l:.5)+"%","--poster-focal-y":100*(null!==(o=p?.y)&&void 0!==o?o:.5)+"%"};return d&&(b["--poster-aspect-ratio"]=d),b}const h=[["shm/poster-content-default",{}],["shm/poster-content-hover",{}]],m=[{label:(0,l.__)("Slide","shm-blocks"),value:"slide"},{label:(0,l.__)("Fade","shm-blocks"),value:"fade"},{label:(0,l.__)("Scale","shm-blocks"),value:"scale"},{label:(0,l.__)("Blur","shm-blocks"),value:"blur"},{label:(0,l.__)("Slide & Fade","shm-blocks"),value:"slide-fade"}],p=[{label:(0,l.__)("Fade Up","shm-blocks"),value:"fade-up"},{label:(0,l.__)("Fade","shm-blocks"),value:"fade"},{label:(0,l.__)("Scale","shm-blocks"),value:"scale"},{label:(0,l.__)("Stagger","shm-blocks"),value:"stagger"}],d=[{label:(0,l.__)("Ease","shm-blocks"),value:"ease"},{label:(0,l.__)("Ease In","shm-blocks"),value:"ease-in"},{label:(0,l.__)("Ease Out","shm-blocks"),value:"ease-out"},{label:(0,l.__)("Ease In Out","shm-blocks"),value:"ease-in-out"},{label:(0,l.__)("Linear","shm-blocks"),value:"linear"}],v=[{label:(0,l.__)("Bottom","shm-blocks"),value:"bottom"},{label:(0,l.__)("Top","shm-blocks"),value:"top"}],b=[{label:(0,l.__)("None","shm-blocks"),value:""},{label:"16:9",value:"16/9"},{label:"4:3",value:"4/3"},{label:"1:1",value:"1/1"},{label:"3:4",value:"3/4"},{label:"9:16",value:"9/16"}],u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"shm/poster","version":"1.0.0","title":"Poster","category":"shm-blocks","description":"An interactive poster block with a background image and hover-triggered overlay animations.","keywords":["poster","cover","hover","card","image"],"textdomain":"shm-blocks","attributes":{"mediaId":{"type":"number"},"mediaUrl":{"type":"string"},"focalPoint":{"type":"object","default":{"x":0.5,"y":0.5}},"imageAlt":{"type":"string","default":""},"linkUrl":{"type":"string","default":""},"linkTarget":{"type":"string","default":"_self"},"linkRel":{"type":"string","default":""},"overlayColor":{"type":"string","default":"#000000"},"overlayPosition":{"type":"string","default":"bottom","enum":["bottom","top"]},"overlayOpacity":{"type":"number","default":60},"overlayOpacityHover":{"type":"number","default":80},"overlayHeight":{"type":"string","default":"30%"},"overlayHeightHover":{"type":"string","default":"100%"},"animationType":{"type":"string","default":"slide","enum":["slide","fade","scale","blur","slide-fade"]},"contentAnimationType":{"type":"string","default":"fade-up","enum":["fade-up","fade","scale","stagger"]},"transitionDuration":{"type":"number","default":400},"contentAnimationDelay":{"type":"number","default":100},"transitionEasing":{"type":"string","default":"ease-in-out"},"minHeight":{"type":"string","default":"400px"},"aspectRatio":{"type":"string"},"editingState":{"type":"string","default":"default"}},"supports":{"html":false,"align":["wide","full"],"spacing":{"margin":true}},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css","viewScript":"file:./view.js"}'),g=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h5v-2h-5v2zm-5-4h10v-2H7v2zm0-4h10V7H7v2z"})});(0,e.registerBlockType)(u.name,{...u,icon:g,edit:function({attributes:e,setAttributes:n}){const{mediaId:u,mediaUrl:g,focalPoint:_,imageAlt:k,linkUrl:y,linkTarget:x,overlayPosition:f,animationType:j,contentAnimationType:w,editingState:C}=e,[H,T]=(0,a.useState)(!1),[O,S]=(0,a.useState)(!1),P=c(e),B=["wp-block-shm-poster",`wp-block-shm-poster--animation-${j}`,`wp-block-shm-poster--content-${w}`,`wp-block-shm-poster--position-${f}`,"hover"===C?"is-editing-hover":"is-editing-default",O&&"is-previewing-hover"].filter(Boolean).join(" "),A=(0,o.useBlockProps)({className:B,style:P});function I(e){n(e?.url?{mediaId:e.id,mediaUrl:e.url,imageAlt:e.alt||""}:{mediaId:void 0,mediaUrl:void 0})}function R(){n({mediaId:void 0,mediaUrl:void 0})}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.BlockControls,{children:[(0,s.jsxs)(t.ToolbarGroup,{children:[(0,s.jsx)(t.ToolbarButton,{icon:"default"===C?"visibility":"hidden",label:"default"===C?(0,l.__)("Editing Default State","shm-blocks"):(0,l.__)("Editing Hover State","shm-blocks"),onClick:function(){n({editingState:"default"===C?"hover":"default"})},isPressed:"hover"===C,children:"default"===C?(0,l.__)("Default","shm-blocks"):(0,l.__)("Hover","shm-blocks")}),(0,s.jsx)(t.ToolbarButton,{icon:"controls-play",label:(0,l.__)("Preview Hover State","shm-blocks"),onClick:()=>S(!O),isPressed:O})]}),(0,s.jsxs)(t.ToolbarGroup,{children:[(0,s.jsx)(o.MediaUploadCheck,{children:(0,s.jsx)(o.MediaUpload,{onSelect:I,allowedTypes:["image"],value:u,render:({open:e})=>(0,s.jsx)(t.ToolbarButton,{icon:i,label:(0,l.__)("Edit Image","shm-blocks"),onClick:e})})}),(0,s.jsx)(t.ToolbarButton,{icon:r,label:(0,l.__)("Edit Link","shm-blocks"),onClick:()=>T(!H),isPressed:H||!!y}),H&&(0,s.jsx)(t.Popover,{position:"bottom center",onClose:()=>T(!1),anchor:A.ref?.current,focusOnMount:"firstElement",children:(0,s.jsx)("div",{style:{padding:"16px",minWidth:"300px"},children:(0,s.jsx)(o.__experimentalLinkControl,{value:{url:y,opensInNewTab:"_blank"===x},onChange:function(e){const l=e?.opensInNewTab;n({linkUrl:e?.url||"",linkTarget:l?"_blank":"_self",linkRel:l?"noopener noreferrer":""})},onRemove:function(){n({linkUrl:"",linkTarget:"_self",linkRel:""})}})})})]})]}),(0,s.jsxs)(o.InspectorControls,{children:[(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Image Settings","shm-blocks"),initialOpen:!0,children:[(0,s.jsx)(o.MediaUploadCheck,{children:(0,s.jsx)(o.MediaUpload,{onSelect:I,allowedTypes:["image"],value:u,render:({open:e})=>(0,s.jsx)("div",{className:"shm-poster-image-control",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:g,alt:k,style:{maxWidth:"100%",marginBottom:"8px"}}),(0,s.jsx)(t.Button,{variant:"secondary",onClick:e,style:{marginRight:"8px"},children:(0,l.__)("Replace Image","shm-blocks")}),(0,s.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:R,children:(0,l.__)("Remove","shm-blocks")})]}):(0,s.jsx)(t.Button,{variant:"primary",onClick:e,children:(0,l.__)("Select Image","shm-blocks")})})})}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.FocalPointPicker,{label:(0,l.__)("Focal Point","shm-blocks"),url:g,value:_,onChange:e=>n({focalPoint:e})}),(0,s.jsx)(t.TextControl,{label:(0,l.__)("Alt Text","shm-blocks"),value:k,onChange:e=>n({imageAlt:e}),help:(0,l.__)("Describe the image for accessibility.","shm-blocks")})]})]}),(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Link Settings","shm-blocks"),initialOpen:!1,children:[(0,s.jsx)(t.TextControl,{label:(0,l.__)("URL","shm-blocks"),value:y,onChange:e=>n({linkUrl:e}),placeholder:"https://"}),(0,s.jsx)(t.ToggleControl,{label:(0,l.__)("Open in new tab","shm-blocks"),checked:"_blank"===x,onChange:e=>n({linkTarget:e?"_blank":"_self",linkRel:e?"noopener noreferrer":""})})]}),(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Overlay Settings","shm-blocks"),initialOpen:!1,children:[(0,s.jsx)("p",{children:(0,l.__)("Overlay Color","shm-blocks")}),(0,s.jsx)(t.ColorPicker,{color:e.overlayColor,onChange:e=>n({overlayColor:e}),enableAlpha:!1}),(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Overlay Position","shm-blocks"),value:f,options:v,onChange:e=>n({overlayPosition:e})}),(0,s.jsx)(t.RangeControl,{label:(0,l.__)("Default Opacity (%)","shm-blocks"),value:e.overlayOpacity,onChange:e=>n({overlayOpacity:e}),min:0,max:100}),(0,s.jsx)(t.RangeControl,{label:(0,l.__)("Hover Opacity (%)","shm-blocks"),value:e.overlayOpacityHover,onChange:e=>n({overlayOpacityHover:e}),min:0,max:100}),(0,s.jsx)(t.TextControl,{label:(0,l.__)("Default Height","shm-blocks"),value:e.overlayHeight,onChange:e=>n({overlayHeight:e}),help:(0,l.__)("E.g., 30%, 150px, 10rem","shm-blocks")}),(0,s.jsx)(t.TextControl,{label:(0,l.__)("Hover Height","shm-blocks"),value:e.overlayHeightHover,onChange:e=>n({overlayHeightHover:e}),help:(0,l.__)("E.g., 100%, 300px","shm-blocks")})]}),(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Animation Settings","shm-blocks"),initialOpen:!1,children:[(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Overlay Animation","shm-blocks"),value:j,options:m,onChange:e=>n({animationType:e}),help:(0,l.__)("Animation style for the overlay panel.","shm-blocks")}),(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Content Animation","shm-blocks"),value:w,options:p,onChange:e=>n({contentAnimationType:e}),help:(0,l.__)("Animation style for content elements.","shm-blocks")}),(0,s.jsx)(t.RangeControl,{label:(0,l.__)("Transition Duration (ms)","shm-blocks"),value:e.transitionDuration,onChange:e=>n({transitionDuration:e}),min:100,max:1e3,step:50}),(0,s.jsx)(t.RangeControl,{label:(0,l.__)("Content Animation Delay (ms)","shm-blocks"),value:e.contentAnimationDelay,onChange:e=>n({contentAnimationDelay:e}),min:0,max:500,step:25}),(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Easing Function","shm-blocks"),value:e.transitionEasing,options:d,onChange:e=>n({transitionEasing:e})})]}),(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Dimensions","shm-blocks"),initialOpen:!1,children:[(0,s.jsx)(t.TextControl,{label:(0,l.__)("Minimum Height","shm-blocks"),value:e.minHeight,onChange:e=>n({minHeight:e}),help:(0,l.__)("E.g., 400px, 50vh","shm-blocks")}),(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Aspect Ratio","shm-blocks"),value:e.aspectRatio||"",options:b,onChange:e=>n({aspectRatio:e||void 0})})]})]}),(0,s.jsxs)("div",{...A,children:[g?(0,s.jsx)("img",{className:"shm-poster__image",src:g,alt:k}):(0,s.jsx)("div",{className:"shm-poster__placeholder",children:(0,s.jsx)(o.MediaUploadCheck,{children:(0,s.jsx)(o.MediaUpload,{onSelect:I,allowedTypes:["image"],value:u,render:({open:e})=>(0,s.jsx)(t.Button,{variant:"primary",onClick:e,icon:i,children:(0,l.__)("Select Background Image","shm-blocks")})})})}),(0,s.jsx)("div",{className:"shm-poster__overlay shm-poster__overlay--default",children:(0,s.jsx)(o.InnerBlocks,{template:h,templateLock:"all",allowedBlocks:["shm/poster-content-default","shm/poster-content-hover"]})})]})]})},save:function({attributes:e}){const{mediaUrl:l,imageAlt:t,linkUrl:a,linkTarget:n,linkRel:i,overlayPosition:r,animationType:h,contentAnimationType:m}=e,p=c(e),d=[`wp-block-shm-poster--animation-${h}`,`wp-block-shm-poster--content-${m}`,`wp-block-shm-poster--position-${r}`].join(" "),v=o.useBlockProps.save({className:d,style:p}),b={className:"shm-poster__link",href:a||"#"};return"_blank"===n&&(b.target="_blank",b.rel=i||"noopener noreferrer"),a||(b["data-no-link"]="true"),(0,s.jsxs)("div",{...v,children:[l&&(0,s.jsx)("img",{className:"shm-poster__image",src:l,alt:t,loading:"lazy"}),(0,s.jsx)("a",{...b,children:(0,s.jsx)("span",{className:"shm-poster__overlays",children:(0,s.jsx)(o.InnerBlocks.Content,{})})})]})}})}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return l[e](n,n.exports,t),n.exports}t.m=l,e=[],t.O=(l,o,a,n)=>{if(!o){var s=1/0;for(h=0;h<e.length;h++){for(var[o,a,n]=e[h],i=!0,r=0;r<o.length;r++)(!1&n||s>=n)&&Object.keys(t.O).every(e=>t.O[e](o[r]))?o.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(h--,1);var c=a();void 0!==c&&(l=c)}}return l}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[o,a,n]},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={378:0,518:0};t.O.j=l=>0===e[l];var l=(l,o)=>{var a,n,[s,i,r]=o,c=0;if(s.some(l=>0!==e[l])){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(r)var h=r(t)}for(l&&l(o);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(h)},o=globalThis.webpackChunkshm_blocks=globalThis.webpackChunkshm_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var a=t.O(void 0,[518],()=>t(867));a=t.O(a)})();