(()=>{"use strict";var e,l={377(){const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,a=window.wp.element,s=window.wp.primitives,n=window.ReactJSXRuntime,i=(0,n.jsx)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(s.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})}),r=(0,n.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(s.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),c=[["shm/poster-content-default",{}],["shm/poster-content-hover",{}]],h=[{label:(0,l.__)("Slide","shm-blocks"),value:"slide"},{label:(0,l.__)("Fade","shm-blocks"),value:"fade"},{label:(0,l.__)("Scale","shm-blocks"),value:"scale"},{label:(0,l.__)("Blur","shm-blocks"),value:"blur"},{label:(0,l.__)("Slide & Fade","shm-blocks"),value:"slide-fade"}],p=[{label:(0,l.__)("Fade Up","shm-blocks"),value:"fade-up"},{label:(0,l.__)("Fade","shm-blocks"),value:"fade"},{label:(0,l.__)("Scale","shm-blocks"),value:"scale"},{label:(0,l.__)("Stagger","shm-blocks"),value:"stagger"}],m=[{label:(0,l.__)("Ease","shm-blocks"),value:"ease"},{label:(0,l.__)("Ease In","shm-blocks"),value:"ease-in"},{label:(0,l.__)("Ease Out","shm-blocks"),value:"ease-out"},{label:(0,l.__)("Ease In Out","shm-blocks"),value:"ease-in-out"},{label:(0,l.__)("Linear","shm-blocks"),value:"linear"}],d=[{label:(0,l.__)("Bottom","shm-blocks"),value:"bottom"},{label:(0,l.__)("Top","shm-blocks"),value:"top"}],v=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"shm/poster","version":"1.0.0","title":"Poster","category":"shm-blocks","description":"An interactive poster block with a background image and hover-triggered overlay animations.","keywords":["poster","cover","hover","card","image"],"textdomain":"shm-blocks","attributes":{"mediaId":{"type":"number"},"mediaUrl":{"type":"string"},"focalPoint":{"type":"object","default":{"x":0.5,"y":0.5}},"imageAlt":{"type":"string","default":""},"linkUrl":{"type":"string","default":""},"linkTarget":{"type":"string","default":"_self"},"linkRel":{"type":"string","default":""},"overlayColor":{"type":"string","default":"#000000"},"overlayPosition":{"type":"string","default":"bottom","enum":["bottom","top"]},"overlayOpacity":{"type":"number","default":60},"overlayOpacityHover":{"type":"number","default":80},"overlayHeight":{"type":"string","default":"30%"},"overlayHeightHover":{"type":"string","default":"100%"},"animationType":{"type":"string","default":"slide","enum":["slide","fade","scale","blur","slide-fade"]},"contentAnimationType":{"type":"string","default":"fade-up","enum":["fade-up","fade","scale","stagger"]},"transitionDuration":{"type":"number","default":400},"contentAnimationDelay":{"type":"number","default":100},"transitionEasing":{"type":"string","default":"ease-in-out"},"minHeight":{"type":"string","default":"400px"},"aspectRatio":{"type":"string"},"editingState":{"type":"string","default":"default"}},"supports":{"html":false,"align":["wide","full"],"spacing":{"margin":true}},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css","viewScript":"file:./view.js"}'),b=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,n.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h5v-2h-5v2zm-5-4h10v-2H7v2zm0-4h10V7H7v2z"})});(0,e.registerBlockType)(v.name,{...v,icon:b,edit:function({attributes:e,setAttributes:s,clientId:v}){const{mediaId:b,mediaUrl:g,focalPoint:u,imageAlt:_,linkUrl:y,linkTarget:k,linkRel:x,overlayColor:f,overlayPosition:j,overlayOpacity:w,overlayOpacityHover:C,overlayHeight:H,overlayHeightHover:T,animationType:O,contentAnimationType:S,transitionDuration:P,contentAnimationDelay:B,transitionEasing:A,minHeight:I,aspectRatio:R,editingState:U}=e,[E,$]=(0,a.useState)(!1),[D,N]=(0,a.useState)(!1),M=function(e){const l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:{r:0,g:0,b:0}}(f),V={"--poster-overlay-color":f,"--poster-overlay-color-rgb":`${M.r}, ${M.g}, ${M.b}`,"--poster-overlay-opacity":w/100,"--poster-overlay-opacity-hover":C/100,"--poster-overlay-height":H,"--poster-overlay-height-hover":T,"--poster-transition-duration":`${P}ms`,"--poster-transition-easing":A,"--poster-content-delay":`${B}ms`,"--poster-min-height":I,"--poster-focal-x":100*u.x+"%","--poster-focal-y":100*u.y+"%"};R&&(V["--poster-aspect-ratio"]=R);const F=["wp-block-shm-poster",`wp-block-shm-poster--animation-${O}`,`wp-block-shm-poster--content-${S}`,`wp-block-shm-poster--position-${j}`,"hover"===U?"is-editing-hover":"is-editing-default",D?"is-previewing-hover":""].filter(Boolean).join(" "),z=(0,o.useBlockProps)({className:F,style:V}),L=e=>{e&&e.url?s({mediaId:e.id,mediaUrl:e.url,imageAlt:e.alt||""}):s({mediaId:void 0,mediaUrl:void 0})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.BlockControls,{children:[(0,n.jsxs)(t.ToolbarGroup,{children:[(0,n.jsx)(t.ToolbarButton,{icon:"default"===U?"visibility":"hidden",label:"default"===U?(0,l.__)("Editing Default State","shm-blocks"):(0,l.__)("Editing Hover State","shm-blocks"),onClick:()=>s({editingState:"default"===U?"hover":"default"}),isPressed:"hover"===U,children:"default"===U?(0,l.__)("Default","shm-blocks"):(0,l.__)("Hover","shm-blocks")}),(0,n.jsx)(t.ToolbarButton,{icon:"controls-play",label:(0,l.__)("Preview Hover State","shm-blocks"),onClick:()=>N(!D),isPressed:D})]}),(0,n.jsxs)(t.ToolbarGroup,{children:[(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:L,allowedTypes:["image"],value:b,render:({open:e})=>(0,n.jsx)(t.ToolbarButton,{icon:i,label:(0,l.__)("Edit Image","shm-blocks"),onClick:e})})}),(0,n.jsx)(t.ToolbarButton,{icon:r,label:(0,l.__)("Edit Link","shm-blocks"),onClick:()=>$(!E),isPressed:E||!!y}),E&&(0,n.jsx)(t.Popover,{position:"bottom center",onClose:()=>$(!1),anchor:z.ref?.current,focusOnMount:"firstElement",children:(0,n.jsx)("div",{style:{padding:"16px",minWidth:"300px"},children:(0,n.jsx)(o.__experimentalLinkControl,{value:{url:y,opensInNewTab:"_blank"===k},onChange:e=>{s({linkUrl:e?.url||"",linkTarget:e?.opensInNewTab?"_blank":"_self",linkRel:e?.opensInNewTab?"noopener noreferrer":""})},onRemove:()=>s({linkUrl:"",linkTarget:"_self",linkRel:""})})})})]})]}),(0,n.jsxs)(o.InspectorControls,{children:[(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Image Settings","shm-blocks"),initialOpen:!0,children:[(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:L,allowedTypes:["image"],value:b,render:({open:e})=>(0,n.jsx)("div",{className:"shm-poster-image-control",children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:g,alt:_,style:{maxWidth:"100%",marginBottom:"8px"}}),(0,n.jsx)(t.Button,{variant:"secondary",onClick:e,style:{marginRight:"8px"},children:(0,l.__)("Replace Image","shm-blocks")}),(0,n.jsx)(t.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>s({mediaId:void 0,mediaUrl:void 0}),children:(0,l.__)("Remove","shm-blocks")})]}):(0,n.jsx)(t.Button,{variant:"primary",onClick:e,children:(0,l.__)("Select Image","shm-blocks")})})})}),g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.FocalPointPicker,{label:(0,l.__)("Focal Point","shm-blocks"),url:g,value:u,onChange:e=>s({focalPoint:e})}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Alt Text","shm-blocks"),value:_,onChange:e=>s({imageAlt:e}),help:(0,l.__)("Describe the image for accessibility.","shm-blocks")})]})]}),(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Link Settings","shm-blocks"),initialOpen:!1,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("URL","shm-blocks"),value:y,onChange:e=>s({linkUrl:e}),placeholder:"https://"}),(0,n.jsx)(t.ToggleControl,{label:(0,l.__)("Open in new tab","shm-blocks"),checked:"_blank"===k,onChange:e=>s({linkTarget:e?"_blank":"_self",linkRel:e?"noopener noreferrer":""})})]}),(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Overlay Settings","shm-blocks"),initialOpen:!1,children:[(0,n.jsx)("p",{children:(0,l.__)("Overlay Color","shm-blocks")}),(0,n.jsx)(t.ColorPicker,{color:f,onChange:e=>s({overlayColor:e}),enableAlpha:!1}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Overlay Position","shm-blocks"),value:j,options:d,onChange:e=>s({overlayPosition:e})}),(0,n.jsx)(t.RangeControl,{label:(0,l.__)("Default Opacity (%)","shm-blocks"),value:w,onChange:e=>s({overlayOpacity:e}),min:0,max:100}),(0,n.jsx)(t.RangeControl,{label:(0,l.__)("Hover Opacity (%)","shm-blocks"),value:C,onChange:e=>s({overlayOpacityHover:e}),min:0,max:100}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Default Height","shm-blocks"),value:H,onChange:e=>s({overlayHeight:e}),help:(0,l.__)("E.g., 30%, 150px, 10rem","shm-blocks")}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Hover Height","shm-blocks"),value:T,onChange:e=>s({overlayHeightHover:e}),help:(0,l.__)("E.g., 100%, 300px","shm-blocks")})]}),(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Animation Settings","shm-blocks"),initialOpen:!1,children:[(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Overlay Animation","shm-blocks"),value:O,options:h,onChange:e=>s({animationType:e}),help:(0,l.__)("Animation style for the overlay panel.","shm-blocks")}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Content Animation","shm-blocks"),value:S,options:p,onChange:e=>s({contentAnimationType:e}),help:(0,l.__)("Animation style for content elements.","shm-blocks")}),(0,n.jsx)(t.RangeControl,{label:(0,l.__)("Transition Duration (ms)","shm-blocks"),value:P,onChange:e=>s({transitionDuration:e}),min:100,max:1e3,step:50}),(0,n.jsx)(t.RangeControl,{label:(0,l.__)("Content Animation Delay (ms)","shm-blocks"),value:B,onChange:e=>s({contentAnimationDelay:e}),min:0,max:500,step:25}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Easing Function","shm-blocks"),value:A,options:m,onChange:e=>s({transitionEasing:e})})]}),(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Dimensions","shm-blocks"),initialOpen:!1,children:[(0,n.jsx)(t.TextControl,{label:(0,l.__)("Minimum Height","shm-blocks"),value:I,onChange:e=>s({minHeight:e}),help:(0,l.__)("E.g., 400px, 50vh","shm-blocks")}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Aspect Ratio","shm-blocks"),value:R||"",options:[{label:(0,l.__)("None","shm-blocks"),value:""},{label:"16:9",value:"16/9"},{label:"4:3",value:"4/3"},{label:"1:1",value:"1/1"},{label:"3:4",value:"3/4"},{label:"9:16",value:"9/16"}],onChange:e=>s({aspectRatio:e||void 0})})]})]}),(0,n.jsxs)("div",{...z,children:[g?(0,n.jsx)("img",{className:"shm-poster__image",src:g,alt:_}):(0,n.jsx)("div",{className:"shm-poster__placeholder",children:(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:L,allowedTypes:["image"],value:b,render:({open:e})=>(0,n.jsx)(t.Button,{variant:"primary",onClick:e,icon:i,children:(0,l.__)("Select Background Image","shm-blocks")})})})}),(0,n.jsx)("div",{className:"shm-poster__overlay shm-poster__overlay--default",children:(0,n.jsx)(o.InnerBlocks,{template:c,templateLock:"all",allowedBlocks:["shm/poster-content-default","shm/poster-content-hover"]})})]})]})},save:function({attributes:e}){const{mediaUrl:l,focalPoint:t,imageAlt:a,linkUrl:s,linkTarget:i,linkRel:r,overlayColor:c,overlayPosition:h,overlayOpacity:p,overlayOpacityHover:m,overlayHeight:d,overlayHeightHover:v,animationType:b,contentAnimationType:g,transitionDuration:u,contentAnimationDelay:_,transitionEasing:y,minHeight:k,aspectRatio:x}=e,f=function(e){const l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:{r:0,g:0,b:0}}(c),j={"--poster-overlay-color":c,"--poster-overlay-color-rgb":`${f.r}, ${f.g}, ${f.b}`,"--poster-overlay-opacity":p/100,"--poster-overlay-opacity-hover":m/100,"--poster-overlay-height":d,"--poster-overlay-height-hover":v,"--poster-transition-duration":`${u}ms`,"--poster-transition-easing":y,"--poster-content-delay":`${_}ms`,"--poster-min-height":k,"--poster-focal-x":100*t.x+"%","--poster-focal-y":100*t.y+"%"};x&&(j["--poster-aspect-ratio"]=x);const w=[`wp-block-shm-poster--animation-${b}`,`wp-block-shm-poster--content-${g}`,`wp-block-shm-poster--position-${h}`].join(" "),C=o.useBlockProps.save({className:w,style:j}),H={className:"shm-poster__link",href:s||"#"};return"_blank"===i&&(H.target="_blank",H.rel=r||"noopener noreferrer"),s||(H["data-no-link"]="true"),(0,n.jsxs)("div",{...C,children:[l&&(0,n.jsx)("img",{className:"shm-poster__image",src:l,alt:a,loading:"lazy"}),(0,n.jsx)("a",{...H,children:(0,n.jsx)("span",{className:"shm-poster__overlays",children:(0,n.jsx)(o.InnerBlocks.Content,{})})})]})}})}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var s=o[e]={exports:{}};return l[e](s,s.exports,t),s.exports}t.m=l,e=[],t.O=(l,o,a,s)=>{if(!o){var n=1/0;for(h=0;h<e.length;h++){for(var[o,a,s]=e[h],i=!0,r=0;r<o.length;r++)(!1&s||n>=s)&&Object.keys(t.O).every(e=>t.O[e](o[r]))?o.splice(r--,1):(i=!1,s<n&&(n=s));if(i){e.splice(h--,1);var c=a();void 0!==c&&(l=c)}}return l}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[o,a,s]},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={378:0,518:0};t.O.j=l=>0===e[l];var l=(l,o)=>{var a,s,[n,i,r]=o,c=0;if(n.some(l=>0!==e[l])){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(r)var h=r(t)}for(l&&l(o);c<n.length;c++)s=n[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(h)},o=globalThis.webpackChunkshm_blocks=globalThis.webpackChunkshm_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var a=t.O(void 0,[518],()=>t(377));a=t.O(a)})();